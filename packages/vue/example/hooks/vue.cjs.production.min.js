"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o,l=(e=require("vue"))&&"object"==typeof e&&"default"in e?e.default:e;function t(){return(t=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e}).apply(this,arguments)}!function(e){e[e.OpenModal=0]="OpenModal",e[e.UpdateModal=1]="UpdateModal",e[e.CloseModal=2]="CloseModal",e[e.CloseAllModals=3]="CloseAllModals",e[e.RegisterModal=4]="RegisterModal",e[e.RemoveModal=5]="RemoveModal"}(o||(o={}));var r=l.observable({}),d=function(e){var d,i=e.payload;switch(e.type){case o.OpenModal:if(!r[null==i?void 0:i.id])throw new Error("modal '"+(null==i?void 0:i.id)+"' not exist, please register it before your use");r[null==i?void 0:i.id].visible=!0,r[null==i?void 0:i.id].props=null==i?void 0:i.props;break;case o.CloseModal:r[null==i?void 0:i.id].visible=!1;break;case o.UpdateModal:if(!r[null==i?void 0:i.id])throw new Error("modal '"+(null==i?void 0:i.id)+"' not exist, please register it before your use");var a=null!=(d=r[null==i?void 0:i.id].props)?d:{};r[null==i?void 0:i.id].props=null!=i&&i.merge?t({},a,null==i?void 0:i.props):null==i?void 0:i.props;break;case o.CloseAllModals:Object.keys(r).forEach((function(e){r[e].visible=!1}));break;case o.RegisterModal:l.set(r,null==i?void 0:i.id,{visible:!1,props:{}});break;case o.RemoveModal:delete r[null==i?void 0:i.id]}};exports.default=function(e){!function(e){e.prototype.__registerModal__=function(e){return d({type:o.RegisterModal,payload:{id:e}})},e.prototype.__removeModal__=function(e){return d({type:o.RemoveModal,payload:{id:e}})},e.prototype.openModal=function(e,l){return d({type:o.OpenModal,payload:{id:e,props:l}})},e.prototype.updateModal=function(e,l,t){return d({type:o.UpdateModal,payload:{id:e,props:l,merge:t}})},e.prototype.closeModal=function(e){return d({type:o.CloseModal,payload:{id:e}})},e.prototype.closeAllModals=function(){return d({type:o.CloseAllModals})}}(e),function(e){e.component("UseModal",{props:{modalId:{type:String,required:!0},isGlobal:{type:Boolean,required:!1,default:function(){return!1}}},created:function(){r[this.modalId]||this.__registerModal__(this.modalId)},beforeDestroy:function(){this.isGlobal||this.__removeModal__(this.modalId)},computed:{modalState:function(){var e,o=r[this.modalId];return{visible:null==o?void 0:o.visible,props:null!=(e=null==o?void 0:o.props)?e:{}}}},render:function(){return this.$scopedSlots.default(this.modalState)}})}(e)};
//# sourceMappingURL=vue.cjs.production.min.js.map
